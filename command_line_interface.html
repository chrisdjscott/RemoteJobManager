<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Command line interface &#8212; RemoteJobManager 0.15.6.dev6+gcb46e11 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=c058f7c8" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=664104a8"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Troubleshooting on NeSI" href="troubleshooting_on_nesi.html" />
    <link rel="prev" title="Getting started on NeSI" href="getting_started_nesi.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="command-line-interface">
<h1>Command line interface<a class="headerlink" href="#command-line-interface" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="available-commands">
<p class="topic-title">Available commands</p>
<ul class="simple">
<li><p><a class="reference internal" href="#rjm-config" id="id1">rjm_config</a></p></li>
<li><p><a class="reference internal" href="#rjm-restart" id="id2">rjm_restart</a></p></li>
<li><p><a class="reference internal" href="#rjm-health-check" id="id3">rjm_health_check</a></p></li>
<li><p><a class="reference internal" href="#rjm-batch-submit" id="id4">rjm_batch_submit</a></p></li>
<li><p><a class="reference internal" href="#rjm-batch-wait" id="id5">rjm_batch_wait</a></p></li>
</ul>
</nav>
<section id="rjm-config">
<h2>rjm_config<a class="headerlink" href="#rjm-config" title="Link to this heading">¶</a></h2>
<p>This is an interactive script to set up Globus and funcX on NeSI for use with RJM. It will create a new Globus guest collection
(shared directory) on NeSI and check whether the user already has a funcX endpoint running on NeSI. If a funcX endpoint is
not already running, one will be created and started on NeSI. If an existing funcX endpoint is found to be running, it will
not be restarted. Finally, all configuration values from the above steps will be written to the RJM config file on the local
machine and the authentication steps will be run.</p>
<p>While running this script, you will need to enter your NeSI username, password and second factor, your NeSI project code and
will need to use a web browser to carry out the Globus authentication as required.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">rjm_config</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">LOGFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">ll</span> <span class="p">{</span><span class="n">debug</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">warn</span><span class="p">,</span><span class="n">error</span><span class="p">,</span><span class="n">critical</span><span class="p">}]</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="rjm.cli.rjm_config-make_parser-named-arguments">
<h3>Named Arguments<a class="headerlink" href="#rjm.cli.rjm_config-make_parser-named-arguments" title="Link to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-l, --logfile</kbd></dt>
<dd><p>logfile. if not specified, all messages will be printed to the terminal.</p>
</dd>
<dt><kbd>-ll, --loglevel</kbd></dt>
<dd><p>Possible choices: debug, info, warn, error, critical</p>
<p>level of log verbosity (setting the level here overrides the config file)</p>
</dd>
<dt><kbd>-r, --reauth</kbd></dt>
<dd><p>Force reauthentication of globus-compute-endpoint</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-w, --where-config</kbd></dt>
<dd><p>Print location of the config file and exit</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program's version number and exit</p>
</dd>
</dl>
</section>
</section>
<section id="rjm-restart">
<h2>rjm_restart<a class="headerlink" href="#rjm-restart" title="Link to this heading">¶</a></h2>
<p>This is an interactive script that will restart the funcX endpoint running on NeSI. Sometimes the endpoint gets into a
bad state due to network, file system, etc issues on NeSI and this script will attempt to fix it.</p>
<p>While running this script, you will need to enter your NeSI username, password and second factor, your NeSI project code and
will need to use a web browser to carry out the Globus authentication as required.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">rjm_restart</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">LOGFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">ll</span> <span class="p">{</span><span class="n">debug</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">warn</span><span class="p">,</span><span class="n">error</span><span class="p">,</span><span class="n">critical</span><span class="p">}]</span>
                   <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="rjm.cli.rjm_restart-make_parser-named-arguments">
<h3>Named Arguments<a class="headerlink" href="#rjm.cli.rjm_restart-make_parser-named-arguments" title="Link to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-l, --logfile</kbd></dt>
<dd><p>logfile. if not specified, all messages will be printed to the terminal.</p>
</dd>
<dt><kbd>-ll, --loglevel</kbd></dt>
<dd><p>Possible choices: debug, info, warn, error, critical</p>
<p>level of log verbosity (setting the level here overrides the config file)</p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program's version number and exit</p>
</dd>
</dl>
</section>
</section>
<section id="rjm-health-check">
<h2>rjm_health_check<a class="headerlink" href="#rjm-health-check" title="Link to this heading">¶</a></h2>
<p><p>Perform basic checks of the interface to the remote machine</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">rjm_health_check</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">LOGFILE</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">ll</span> <span class="p">{</span><span class="n">debug</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">warn</span><span class="p">,</span><span class="n">error</span><span class="p">,</span><span class="n">critical</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">le</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">k</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="rjm.cli.rjm_health_check-make_parser-named-arguments">
<h3>Named Arguments<a class="headerlink" href="#rjm.cli.rjm_health_check-make_parser-named-arguments" title="Link to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-l, --logfile</kbd></dt>
<dd><p>logfile. if not specified, all messages will be printed to the terminal.</p>
</dd>
<dt><kbd>-ll, --loglevel</kbd></dt>
<dd><p>Possible choices: debug, info, warn, error, critical</p>
<p>level of log verbosity (default: 'critical')</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">'critical'</span></code></p>
</dd>
<dt><kbd>-le, --logextra</kbd></dt>
<dd><p>Also log funcx and globus at the chosen loglevel</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-k, --keep</kbd></dt>
<dd><p>Keep health check files on remote system, i.e. do not delete them after completing the check (default=False)</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-r, --retries</kbd></dt>
<dd><p>Allow retries on function failures</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program's version number and exit</p>
</dd>
</dl>
</section>
</section>
<section id="rjm-batch-submit">
<h2>rjm_batch_submit<a class="headerlink" href="#rjm-batch-submit" title="Link to this heading">¶</a></h2>
<p><p>Upload files and start jobs</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">rjm_batch_submit</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">f</span> <span class="n">LOCALJOBDIRFILE</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">LOGFILE</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">ll</span> <span class="p">{</span><span class="n">debug</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">warn</span><span class="p">,</span><span class="n">error</span><span class="p">,</span><span class="n">critical</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">le</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">force</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="n">CMD</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">REMOTEDIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">j</span> <span class="n">JOBTYPE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="n">MEM</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">PROJECTCODE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="n">WALLTIME</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="rjm.cli.rjm_batch_submit-make_parser-named-arguments">
<h3>Named Arguments<a class="headerlink" href="#rjm.cli.rjm_batch_submit-make_parser-named-arguments" title="Link to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-f, --localjobdirfile</kbd></dt>
<dd><p>file that contains the names of the local job directories, one name per line</p>
</dd>
<dt><kbd>-l, --logfile</kbd></dt>
<dd><p>logfile. if not specified, all messages will be printed to the terminal.</p>
</dd>
<dt><kbd>-ll, --loglevel</kbd></dt>
<dd><p>Possible choices: debug, info, warn, error, critical</p>
<p>level of log verbosity (setting the level here overrides the config file)</p>
</dd>
<dt><kbd>-le, --logextra</kbd></dt>
<dd><p>Also log funcx and globus at the chosen loglevel</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>--force</kbd></dt>
<dd><p>ignore progress from previous runs stored in job directory, i.e. start from scratch</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-n, --defaultlogname</kbd></dt>
<dd><p>Use default log name instead of &quot;batch_submit&quot;</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-c, --cmd</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-d, --remotedir</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-j, --jobtype</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-m, --mem</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-p, --projectcode</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-w, --walltime</kbd></dt>
<dd><p>not used; provided for compatibility with previous versions</p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program's version number and exit</p>
</dd>
</dl>
</section>
</section>
<section id="rjm-batch-wait">
<h2>rjm_batch_wait<a class="headerlink" href="#rjm-batch-wait" title="Link to this heading">¶</a></h2>
<p><p>Wait for the jobs to complete and download files</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">rjm_batch_wait</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">f</span> <span class="n">LOCALJOBDIRFILE</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">LOGFILE</span><span class="p">]</span>
                      <span class="p">[</span><span class="o">-</span><span class="n">ll</span> <span class="p">{</span><span class="n">debug</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="n">warn</span><span class="p">,</span><span class="n">error</span><span class="p">,</span><span class="n">critical</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">le</span><span class="p">]</span>
                      <span class="p">[</span><span class="o">-</span><span class="n">z</span> <span class="n">POLLINGINTERVALSEC</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="rjm.cli.rjm_batch_wait-make_parser-named-arguments">
<h3>Named Arguments<a class="headerlink" href="#rjm.cli.rjm_batch_wait-make_parser-named-arguments" title="Link to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-f, --localjobdirfile</kbd></dt>
<dd><p>file that contains the names of the local job directories, one name per line</p>
</dd>
<dt><kbd>-l, --logfile</kbd></dt>
<dd><p>logfile. if not specified, all messages will be printed to the terminal.</p>
</dd>
<dt><kbd>-ll, --loglevel</kbd></dt>
<dd><p>Possible choices: debug, info, warn, error, critical</p>
<p>level of log verbosity (setting the level here overrides the config file)</p>
</dd>
<dt><kbd>-le, --logextra</kbd></dt>
<dd><p>Also log funcx and globus at the chosen loglevel</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-z, --pollingintervalsec</kbd></dt>
<dd><p>job status polling interval in seconds (minimum is 60 unless <cite>-o</cite> specified too)</p>
</dd>
<dt><kbd>-o, --min-polling-override</kbd></dt>
<dd><p>override minimum polling interval of 60 s</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-n, --defaultlogname</kbd></dt>
<dd><p>Use default log name instead of &quot;batch_wait&quot;</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program's version number and exit</p>
</dd>
</dl>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">RemoteJobManager</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started_nesi.html">Getting started on NeSI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting_on_nesi.html">Troubleshooting on NeSI</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="getting_started_nesi.html" title="previous chapter">Getting started on NeSI</a></li>
      <li>Next: <a href="troubleshooting_on_nesi.html" title="next chapter">Troubleshooting on NeSI</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, The University of Auckland.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.0.2</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/command_line_interface.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>